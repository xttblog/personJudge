<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <form method="post" action="user/login" >
    <input type="text" name="userName" class="form-control uname" placeholder="用户名" />
    <input type="password" name="passWord" class="form-control pword m-b" placeholder="密码" />
    <input type="submit">
  </form>
  <script src="js/jquery.min.js?v=2.1.4"></script>
  <script src="js/jquery.cookie.js"></script>
  <script src="js/common.js"></script>
  <script>
      var condition = {
          userName: '1',
          passWord: '2'
      }
      alert(typeof JSON.stringify(condition));
      function test0(){
          ajaxCommon({
              url: "user/login",
              data: JSON.stringify(condition)
          }, function(obj) {
              var data = obj.data;
              $.cookie("Token",data.token);
              // 设置User对象保存
              delete data.token;
              window.localStorage.setItem("User",JSON.stringify(data));
          });
      }
  </script>
  <a href="javascript:void(0)"onclick="test0('11111');return false;">test0</a>
  <script>
      function ajaxs(){
          ajaxCommon({
              url: "user/getUserVo",
              data: window.localStorage.getItem("User"),
              contentType: "application/json"
          }, function(message) {
              var data = message;
              console.log(data);
              alert(data.data);
          });
      }
      function postMsg() {
          $.ajax({
              // withCredentials:true, 这是跨域请求
              // crossDomain:true,
              type: 'POST',
              url: 'user/getUserVo',
              // xhrFields: {
              //     withCredentials: true
              // },/*在ajax跨域请求中携带cookie做身份验证*/
              dataType: 'json',
              data: window.localStorage.getItem("User"),
              contentType: 'application/json',
              async: false,
              beforeSend: function (xhr) {
                  xhr.setRequestHeader("token", $.cookie("Token"));/*将token的值插入请求头*/
              }.bind(this),
              success: function (data) {
                  if (data.code == 200) {
                      console.log(data);
                      alert(JSON.stringify(data));
                  } else {
                      alert("fail");
                  }
              },
              error: function () {
              }.bind(this)
          });
      }
  </script>
  <a href="javascript:void(0)"onclick="ajaxs();return false;">获取</a>
-------
  <script>
    function judge(){

    }
  </script>
  <a href="javascript:void(0)"onclick="judge();return false;">评价教师</a>


</body>
</html>